database-service-1  | 2025-04-01 21:31:08+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.0.41-1.el9 started.
database-service-1  | 2025-04-01 21:31:08+00:00 [Note] [Entrypoint]: Switching to dedicated user 'mysql'
database-service-1  | 2025-04-01 21:31:08+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.0.41-1.el9 started.
database-service-1  | '/var/lib/mysql/mysql.sock' -> '/var/run/mysqld/mysqld.sock'
database-service-1  | 2025-04-01T21:31:08.443934Z 0 [Warning] [MY-011068] [Server] The syntax '--skip-host-cache' is deprecated and will be removed in a future release. Please use SET GLOBAL host_cache_size=0 instead.
database-service-1  | 2025-04-01T21:31:08.445052Z 0 [System] [MY-010116] [Server] /usr/sbin/mysqld (mysqld 8.0.41) starting as process 1
database-service-1  | 2025-04-01T21:31:08.448539Z 1 [System] [MY-013576] [InnoDB] InnoDB initialization has started.
database-service-1  | 2025-04-01T21:31:08.604263Z 1 [System] [MY-013577] [InnoDB] InnoDB initialization has ended.
database-service-1  | 2025-04-01T21:31:08.752012Z 0 [Warning] [MY-010068] [Server] CA certificate ca.pem is self signed.
database-service-1  | 2025-04-01T21:31:08.752044Z 0 [System] [MY-013602] [Server] Channel mysql_main configured to support TLS. Encrypted connections are now supported for this channel.
database-service-1  | 2025-04-01T21:31:08.757297Z 0 [Warning] [MY-011810] [Server] Insecure configuration for --pid-file: Location '/var/run/mysqld' in the path is accessible to all OS users. Consider choosing a different directory.
database-service-1  | 2025-04-01T21:31:08.768507Z 0 [System] [MY-011323] [Server] X Plugin ready for connections. Bind-address: '::' port: 33060, socket: /var/run/mysqld/mysqlx.sock
database-service-1  | 2025-04-01T21:31:08.768583Z 0 [System] [MY-010931] [Server] /usr/sbin/mysqld: ready for connections. Version: '8.0.41'  socket: '/var/run/mysqld/mysqld.sock'  port: 3306  MySQL Community Server - GPL.
frontend-service-1  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
frontend-service-1  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
frontend-service-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
frontend-service-1  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
frontend-service-1  | 10-listen-on-ipv6-by-default.sh: info: /etc/nginx/conf.d/default.conf differs from the packaged version
frontend-service-1  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
frontend-service-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
frontend-service-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
frontend-service-1  | /docker-entrypoint.sh: Configuration complete; ready for start up
frontend-service-1  | 2025/04/01 21:31:09 [emerg] 1#1: host not found in upstream "api-gateway" in /etc/nginx/conf.d/default.conf:11
frontend-service-1  | nginx: [emerg] host not found in upstream "api-gateway" in /etc/nginx/conf.d/default.conf:11
api-gateway-1       | Traceback (most recent call last):
api-gateway-1       |   File "/app/app.py", line 34, in <module>
api-gateway-1       |     db.create_all()
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/flask_sqlalchemy/__init__.py", line 1094, in create_all
api-gateway-1       |     self._execute_for_all_tables(app, bind, 'create_all')
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/flask_sqlalchemy/__init__.py", line 1086, in _execute_for_all_tables
api-gateway-1       |     op(bind=self.get_engine(app, bind), **extra)
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/sql/schema.py", line 4930, in create_all
api-gateway-1       |     bind._run_ddl_visitor(
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3227, in _run_ddl_visitor
api-gateway-1       |     with self.begin() as conn:
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3143, in begin
api-gateway-1       |     conn = self.connect(close_with_result=close_with_result)
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3315, in connect
api-gateway-1       |     return self._connection_cls(self, close_with_result=close_with_result)
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
api-gateway-1       |     else engine.raw_connection()
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3394, in raw_connection
api-gateway-1       |     return self._wrap_pool_connect(self.pool.connect, _connection)
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3361, in _wrap_pool_connect
api-gateway-1       |     return fn()
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 327, in connect
api-gateway-1       |     return _ConnectionFairy._checkout(self)
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 894, in _checkout
api-gateway-1       |     fairy = _ConnectionRecord.checkout(pool)
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 493, in checkout
api-gateway-1       |     rec = pool._do_get()
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 146, in _do_get
api-gateway-1       |     self._dec_overflow()
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
api-gateway-1       |     compat.raise_(
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
api-gateway-1       |     raise exception
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 143, in _do_get
api-gateway-1       |     return self._create_connection()
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 273, in _create_connection
api-gateway-1       |     return _ConnectionRecord(self)
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in __init__
api-gateway-1       |     self.__connect()
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 691, in __connect
api-gateway-1       |     pool.logger.debug("Error on connect(): %s", e)
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
api-gateway-1       |     compat.raise_(
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
api-gateway-1       |     raise exception
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 686, in __connect
api-gateway-1       |     self.dbapi_connection = connection = pool._invoke_creator(self)
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 578, in connect
api-gateway-1       |     return dialect.connect(*cargs, **cparams)
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 598, in connect
api-gateway-1       |     return self.dbapi.connect(*cargs, **cparams)
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/pymysql/connections.py", line 353, in __init__
api-gateway-1       |     self.connect()
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/pymysql/connections.py", line 633, in connect
api-gateway-1       |     self._request_authentication()
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/pymysql/connections.py", line 932, in _request_authentication
api-gateway-1       |     auth_packet = _auth.caching_sha2_password_auth(self, auth_packet)
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/pymysql/_auth.py", line 265, in caching_sha2_password_auth
api-gateway-1       |     data = sha2_rsa_encrypt(conn.password, conn.salt, conn.server_public_key)
api-gateway-1       |   File "/usr/local/lib/python3.9/site-packages/pymysql/_auth.py", line 143, in sha2_rsa_encrypt
api-gateway-1       |     raise RuntimeError(
api-gateway-1       | RuntimeError: 'cryptography' package is required for sha256_password or caching_sha2_password auth methods
user-service-1      | Traceback (most recent call last):
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/pymysql/connections.py", line 613, in connect
user-service-1      |     sock = socket.create_connection(
user-service-1      |   File "/usr/local/lib/python3.9/socket.py", line 856, in create_connection
user-service-1      |     raise err
user-service-1      |   File "/usr/local/lib/python3.9/socket.py", line 844, in create_connection
user-service-1      |     sock.connect(sa)
user-service-1      | ConnectionRefusedError: [Errno 111] Connection refused
user-service-1      | 
user-service-1      | During handling of the above exception, another exception occurred:
user-service-1      | 
user-service-1      | Traceback (most recent call last):
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3361, in _wrap_pool_connect
user-service-1      |     return fn()
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 327, in connect
user-service-1      |     return _ConnectionFairy._checkout(self)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 894, in _checkout
user-service-1      |     fairy = _ConnectionRecord.checkout(pool)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 493, in checkout
user-service-1      |     rec = pool._do_get()
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 146, in _do_get
user-service-1      |     self._dec_overflow()
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
user-service-1      |     compat.raise_(
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
user-service-1      |     raise exception
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 143, in _do_get
user-service-1      |     return self._create_connection()
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 273, in _create_connection
user-service-1      |     return _ConnectionRecord(self)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in __init__
user-service-1      |     self.__connect()
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 691, in __connect
user-service-1      |     pool.logger.debug("Error on connect(): %s", e)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
user-service-1      |     compat.raise_(
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
user-service-1      |     raise exception
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 686, in __connect
user-service-1      |     self.dbapi_connection = connection = pool._invoke_creator(self)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 578, in connect
user-service-1      |     return dialect.connect(*cargs, **cparams)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 598, in connect
user-service-1      |     return self.dbapi.connect(*cargs, **cparams)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/pymysql/connections.py", line 353, in __init__
user-service-1      |     self.connect()
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/pymysql/connections.py", line 664, in connect
user-service-1      |     raise exc
user-service-1      | pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'database-service' ([Errno 111] Connection refused)")
user-service-1      | 
user-service-1      | The above exception was the direct cause of the following exception:
user-service-1      | 
user-service-1      | Traceback (most recent call last):
user-service-1      |   File "/app/app.py", line 34, in <module>
user-service-1      |     db.create_all()
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/flask_sqlalchemy/__init__.py", line 1094, in create_all
user-service-1      |     self._execute_for_all_tables(app, bind, 'create_all')
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/flask_sqlalchemy/__init__.py", line 1086, in _execute_for_all_tables
user-service-1      |     op(bind=self.get_engine(app, bind), **extra)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/sql/schema.py", line 4930, in create_all
user-service-1      |     bind._run_ddl_visitor(
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3227, in _run_ddl_visitor
user-service-1      |     with self.begin() as conn:
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3143, in begin
user-service-1      |     conn = self.connect(close_with_result=close_with_result)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3315, in connect
user-service-1      |     return self._connection_cls(self, close_with_result=close_with_result)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
user-service-1      |     else engine.raw_connection()
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3394, in raw_connection
user-service-1      |     return self._wrap_pool_connect(self.pool.connect, _connection)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3364, in _wrap_pool_connect
user-service-1      |     Connection._handle_dbapi_exception_noconnection(
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2198, in _handle_dbapi_exception_noconnection
user-service-1      |     util.raise_(
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
user-service-1      |     raise exception
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3361, in _wrap_pool_connect
user-service-1      |     return fn()
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 327, in connect
user-service-1      |     return _ConnectionFairy._checkout(self)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 894, in _checkout
user-service-1      |     fairy = _ConnectionRecord.checkout(pool)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 493, in checkout
user-service-1      |     rec = pool._do_get()
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 146, in _do_get
user-service-1      |     self._dec_overflow()
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
user-service-1      |     compat.raise_(
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
user-service-1      |     raise exception
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 143, in _do_get
user-service-1      |     return self._create_connection()
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 273, in _create_connection
user-service-1      |     return _ConnectionRecord(self)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in __init__
user-service-1      |     self.__connect()
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 691, in __connect
user-service-1      |     pool.logger.debug("Error on connect(): %s", e)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
user-service-1      |     compat.raise_(
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
user-service-1      |     raise exception
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 686, in __connect
user-service-1      |     self.dbapi_connection = connection = pool._invoke_creator(self)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 578, in connect
user-service-1      |     return dialect.connect(*cargs, **cparams)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 598, in connect
user-service-1      |     return self.dbapi.connect(*cargs, **cparams)
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/pymysql/connections.py", line 353, in __init__
user-service-1      |     self.connect()
user-service-1      |   File "/usr/local/lib/python3.9/site-packages/pymysql/connections.py", line 664, in connect
user-service-1      |     raise exc
user-service-1      | sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (2003, "Can't connect to MySQL server on 'database-service' ([Errno 111] Connection refused)")
user-service-1      | (Background on this error at: https://sqlalche.me/e/14/e3q8)
auth-service-1      | Traceback (most recent call last):
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/pymysql/connections.py", line 613, in connect
auth-service-1      |     sock = socket.create_connection(
auth-service-1      |   File "/usr/local/lib/python3.9/socket.py", line 856, in create_connection
auth-service-1      |     raise err
auth-service-1      |   File "/usr/local/lib/python3.9/socket.py", line 844, in create_connection
auth-service-1      |     sock.connect(sa)
auth-service-1      | ConnectionRefusedError: [Errno 111] Connection refused
auth-service-1      | 
auth-service-1      | During handling of the above exception, another exception occurred:
auth-service-1      | 
auth-service-1      | Traceback (most recent call last):
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3361, in _wrap_pool_connect
auth-service-1      |     return fn()
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 327, in connect
auth-service-1      |     return _ConnectionFairy._checkout(self)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 894, in _checkout
auth-service-1      |     fairy = _ConnectionRecord.checkout(pool)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 493, in checkout
auth-service-1      |     rec = pool._do_get()
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 146, in _do_get
auth-service-1      |     self._dec_overflow()
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
auth-service-1      |     compat.raise_(
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
auth-service-1      |     raise exception
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 143, in _do_get
auth-service-1      |     return self._create_connection()
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 273, in _create_connection
auth-service-1      |     return _ConnectionRecord(self)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in __init__
auth-service-1      |     self.__connect()
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 691, in __connect
auth-service-1      |     pool.logger.debug("Error on connect(): %s", e)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
auth-service-1      |     compat.raise_(
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
auth-service-1      |     raise exception
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 686, in __connect
auth-service-1      |     self.dbapi_connection = connection = pool._invoke_creator(self)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 578, in connect
auth-service-1      |     return dialect.connect(*cargs, **cparams)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 598, in connect
auth-service-1      |     return self.dbapi.connect(*cargs, **cparams)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/pymysql/connections.py", line 353, in __init__
auth-service-1      |     self.connect()
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/pymysql/connections.py", line 664, in connect
auth-service-1      |     raise exc
auth-service-1      | pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'database-service' ([Errno 111] Connection refused)")
auth-service-1      | 
auth-service-1      | The above exception was the direct cause of the following exception:
auth-service-1      | 
auth-service-1      | Traceback (most recent call last):
auth-service-1      |   File "/app/app.py", line 37, in <module>
auth-service-1      |     db.create_all()
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/flask_sqlalchemy/__init__.py", line 1094, in create_all
auth-service-1      |     self._execute_for_all_tables(app, bind, 'create_all')
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/flask_sqlalchemy/__init__.py", line 1086, in _execute_for_all_tables
auth-service-1      |     op(bind=self.get_engine(app, bind), **extra)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/sql/schema.py", line 4930, in create_all
auth-service-1      |     bind._run_ddl_visitor(
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3227, in _run_ddl_visitor
auth-service-1      |     with self.begin() as conn:
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3143, in begin
auth-service-1      |     conn = self.connect(close_with_result=close_with_result)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3315, in connect
auth-service-1      |     return self._connection_cls(self, close_with_result=close_with_result)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
auth-service-1      |     else engine.raw_connection()
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3394, in raw_connection
auth-service-1      |     return self._wrap_pool_connect(self.pool.connect, _connection)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3364, in _wrap_pool_connect
auth-service-1      |     Connection._handle_dbapi_exception_noconnection(
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2198, in _handle_dbapi_exception_noconnection
auth-service-1      |     util.raise_(
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
auth-service-1      |     raise exception
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3361, in _wrap_pool_connect
auth-service-1      |     return fn()
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 327, in connect
auth-service-1      |     return _ConnectionFairy._checkout(self)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 894, in _checkout
auth-service-1      |     fairy = _ConnectionRecord.checkout(pool)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 493, in checkout
auth-service-1      |     rec = pool._do_get()
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 146, in _do_get
auth-service-1      |     self._dec_overflow()
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
auth-service-1      |     compat.raise_(
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
auth-service-1      |     raise exception
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 143, in _do_get
auth-service-1      |     return self._create_connection()
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 273, in _create_connection
auth-service-1      |     return _ConnectionRecord(self)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in __init__
auth-service-1      |     self.__connect()
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 691, in __connect
auth-service-1      |     pool.logger.debug("Error on connect(): %s", e)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
auth-service-1      |     compat.raise_(
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
auth-service-1      |     raise exception
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 686, in __connect
auth-service-1      |     self.dbapi_connection = connection = pool._invoke_creator(self)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 578, in connect
auth-service-1      |     return dialect.connect(*cargs, **cparams)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 598, in connect
auth-service-1      |     return self.dbapi.connect(*cargs, **cparams)
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/pymysql/connections.py", line 353, in __init__
auth-service-1      |     self.connect()
auth-service-1      |   File "/usr/local/lib/python3.9/site-packages/pymysql/connections.py", line 664, in connect
auth-service-1      |     raise exc
auth-service-1      | sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (2003, "Can't connect to MySQL server on 'database-service' ([Errno 111] Connection refused)")
auth-service-1      | (Background on this error at: https://sqlalche.me/e/14/e3q8)
